{"openapi":"3.0.1","info":{"title":"FREEDOM","description":"<div><h3>Quick Start</h3><ul><table><tr><td>code</td><td>description</td></tr><tr><td>0</td><td>SUCCESS</td></tr><tr><td>1</td><td>INVALID_PARAMETERS</td></tr><tr><td>2</td><td>INVALID_TOKEN</td></tr><tr><td>3</td><td>INVALID_RETURN_VALUE</td></tr><tr><td>4</td><td>EXPIRED_TOKEN</td></tr><tr><td>5</td><td>ACCESS_DENIED</td></tr><tr><td>6</td><td>RESOURCE_NOT_FOUND</td></tr><tr><td>7</td><td>FAIL_PARSE_XML</td></tr><tr><td>9999</td><td>UNKNOWN</td></tr></table><br/>If you have any problem,please contact us without any hesitation.</div><div><h3>签名</h3><p>MF-ACCESS-SIGN的请求头是对timestamp + method + requestPath + body字符串（+表示字符串连接），以及SecretKey，使用HMAC SHA256方法加密，通过Base-64编码输出而得到的。\n\n如：sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/config?p1=value', SecretKey))\n\n其中，timestamp的值与MF-ACCESS-TIMESTAMP请求头相同，为ISO格式，如2020-12-08T09:08:57.715Z。\n\nmethod是请求方法，字母全部大写：GET/POST。\n\nrequestPath是请求接口路径,包含query参数。如：/api/config?p1=value1\n\nbody是指请求主体的字符串，如果请求没有主体（通常为GET请求）则body可省略。如：{\"p1\":\"v1\"}</p></div><div><h3>Signature</h3><p>The MF-ACCESS-SIGN header is generated as follows:\n\n<ul><li>Create a prehash string of timestamp + method + requestPath + body (where + represents String concatenation).</li><li>Prepare the SecretKey.</li><li>Sign the prehash string with the SecretKey using the HMAC SHA256.</li><li>Encode the signature in the Base64 format.</li></ul>\n\nExample: sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/config?p1=v1', SecretKey))\n\nThe timestamp value is the same as the MF-ACCESS-TIMESTAMP header with millisecond ISO format, e.g. 2020-12-08T09:08:57.715Z.\n\nThe request method should be in UPPERCASE: e.g. GET and POST.\n\nThe requestPath is the path of requesting an endpoint.\n\nExample: /api/config?p1=v1\n\nThe body refers to the String of the request body. It can be omitted if there is no request body (frequently the case for GET requests).\n\nExample: {\"p1\":\"v1\")</p></div>","version":"0.0.1#@BUILD_ID@"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"API SERVICE","description":"API SERVICE"}],"paths":{"/api/order":{"post":{"tags":["API SERVICE"],"summary":"创建订单;create order","operationId":"order","parameters":[{"name":"MF-ACCESS-KEY","in":"header","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String.","required":true,"schema":{"type":"string","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String."}},{"name":"MF-ACCESS-TIMESTAMP","in":"header","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z","required":true,"schema":{"type":"string","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z"}},{"name":"MF-ACCESS-SIGN","in":"header","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details).","required":true,"schema":{"type":"string","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details)."}},{"name":"quantity","in":"query","description":"代理的能量数,最小32000","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"target_address","in":"query","description":"代理的目标地址","required":true,"schema":{"type":"string"}},{"name":"period","in":"query","description":"代理的周期，1:一小时;2:1天;3:3天;4:4天，最多30天","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/XAPIDelegateResponse"}}}}}}},"/api/order/{pay_hash}":{"get":{"tags":["API SERVICE"],"summary":"得到订单详情;Get order detail by pay hash","operationId":"getOrder","parameters":[{"name":"MF-ACCESS-KEY","in":"header","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String.","required":true,"schema":{"type":"string","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String."}},{"name":"MF-ACCESS-TIMESTAMP","in":"header","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z","required":true,"schema":{"type":"string","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z"}},{"name":"MF-ACCESS-SIGN","in":"header","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details).","required":true,"schema":{"type":"string","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details)."}},{"name":"pay_hash","in":"path","description":"创建订单时候返回的pay_hash","required":true,"schema":{"type":"string","description":"创建订单时候返回的pay_hash"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/XAPIDelegateResponse"}}}}}}},"/api/config":{"get":{"tags":["API SERVICE"],"summary":"得到账户配置;Get account configuration","operationId":"config","parameters":[{"name":"MF-ACCESS-KEY","in":"header","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String.","required":true,"schema":{"type":"string","description":"API所使用的KEY,请联系@mefreenet获取。\nThe API Key as a String."}},{"name":"MF-ACCESS-TIMESTAMP","in":"header","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z","required":true,"schema":{"type":"string","description":"发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z。\nThe UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z"}},{"name":"MF-ACCESS-SIGN","in":"header","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details).","required":true,"schema":{"type":"string","description":"使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。\nThe Base64-encoded signature (see Signing Messages subsection for details)."}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/XApiUser"}}}}}}}},"components":{"schemas":{"APIDelegateResponse":{"type":"object","properties":{"pay_hash":{"type":"string","description":"付款HASH,也作为订单的ID"},"pay_address":{"type":"string","description":"付款地址"},"delegate_hash":{"type":"string","description":"代理能量的HASH值"},"amount_sun":{"type":"integer","description":"支付金额,单位为sun","format":"int64"},"energy_quantity":{"type":"integer","description":"能量的数量","format":"int32"},"energy_period":{"type":"integer","description":"能量的代理周期，为小时的倍数","format":"int32"},"energy_expired_timestamp":{"type":"integer","description":"能量过期时间戳","format":"int64"},"status":{"type":"string","description":"能量状态","enum":["TRANSFER_SUCCESS","DELEGATE_SUCCESS","RECLAIM_SUCCESS","TRANSFER_FAIL","AMOUNT_TOO_LOW","DELEGATE_FAIL","RECLAIM_FAIL"]}}},"XAPIDelegateResponse":{"type":"object","properties":{"code":{"title":"成功返回0，其他均为错误","type":"integer","format":"int32"},"msg":{"type":"string"},"sub_code":{"type":"string"},"sub_msg":{"type":"string"},"data":{"$ref":"#/components/schemas/APIDelegateResponse"}}},"ApiUser":{"type":"object","properties":{"api_key":{"type":"string"},"api_secret":{"type":"string"},"recharge_address":{"type":"string","description":"充值的地址"},"hour_price_sun":{"type":"integer","description":"1小时32000能量的价格，单位为SUN","format":"int32"},"day_price_sun":{"type":"integer","description":"1天32000能量的价格，单位为SUN","format":"int32"},"total_recharge":{"type":"integer","description":"总计充值金额，单位为SUN","format":"int64"},"total_consume":{"type":"integer","description":"总计消费金额，单位为SUN","format":"int64"},"created_at":{"type":"integer","description":"创建时间","format":"int64"},"updated_at":{"type":"integer","description":"更新时间","format":"int64"}}},"XApiUser":{"type":"object","properties":{"code":{"title":"成功返回0，其他均为错误","type":"integer","format":"int32"},"msg":{"type":"string"},"sub_code":{"type":"string"},"sub_msg":{"type":"string"},"data":{"$ref":"#/components/schemas/ApiUser"}}}},"securitySchemes":{"Authorization":{"type":"apiKey","name":"Authorization","in":"header"}}}}